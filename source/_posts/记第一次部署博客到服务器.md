---
title: 记第一次部署博客到服务器
date: 2022-09-15 13:03:33
tags: 技术&生活
---

#**记录第一次部署博客到服务器**

##**1、站点托管还是云服务器？**

​		在完成`Hexo`使用`cactus`主题后的本地开发后，需要讲我们的博客服务部署到远程服务器上，可以根据个人需要选择使用Github Pages或Gitee Pages进行免费的网页托管，或是购买使用阿里云服务器直接部署。

​		不同的选择存在不同的优缺点，Github Pages免费、使用更广泛，因为外网的限制访问不够稳定，加载速度比较慢，但不会受到站点内内容管理的影响；Gitee Pages同样也免费，Gitee作为国内版的GitHub，访问速度优秀，但容易收到内容管理的影响；云服务器收费，速度快，受购买的云服务商内容管理，租用最低要求的服务器，一年收费几百元，资金充沛的小伙伴可以选择这种方式。

​		本站使用的是Github Pages进行站点托管。

##**2、建立仓库**

​		申请一个Github账号，创建一个新的仓库，仓库名尽量和账号名相同，主要是为了避免因为路径引发的问题。

![image-20220915132529356](C:\Users\CJX\AppData\Roaming\Typora\typora-user-images\image-20220915132529356.png)

##**3、连接仓库**

###3.1 安装hexo-deployer-git

```npm install hexo-deployer-git --save```

###3.2 修改配置

`deploy:
  type: git
  repo: https://github.com/cjx19960608/cjx19960608.github.io.git 
  branch: master`

​		注意上面的 repo 地址并不是仓库的地址，而是你下载/克隆项目时弹出的那个地址，type 如果是 git 就选择 SSH。

###3.3生成token

​		git在发布的时候回对当前发布人进行身份的验证，验证方式是通过用户名加对应项目的密钥来进行校验。生成的token最好保留，以免丢失。

###3.4上传仓库

​		这个地方有点坑，在直接使用hexo d命令进行部署的时候，hexo只会讲public下的文件上传到github，这就导致之前在本地配置好的themes目录下的配置文件没有被上传，最终导致生成的博客是人家的demo。。。后续查阅资料发现想实现个人博客需要爱仓库中建立新的分支，专门存放博文、主题等，于是根据前人的经验建立了一个名为hexo的分支，并将本地文件上传到对应分支。结果重新部署的时候出现了请求报404的情况，诊断为请求地址出错，后续排查到_congfig.yml中配置的项目url有问题于是进行修改。重新部署后发现仍然报404，就在走投无路之下，决定尝试Ctrl+F5清空缓存试试。结果，成了！于是写下这篇博客记录一下。

![image-20220915134319840](C:\Users\CJX\AppData\Roaming\Typora\typora-user-images\image-20220915134319840.png)

##**4.后续计划**

​		后续发布新博客的时候按照如下步骤进行发布

![image-20220915134718841](C:\Users\CJX\AppData\Roaming\Typora\typora-user-images\image-20220915134718841.png)

只不过main分支为master分支，hexo分支为reshexo分支。

​		偷偷记录和997的生活，并在需要的时候给她惊喜。想在博客中新增音乐播放功能，因为看到她歌单里有我这前推的《wings of piano》,得想个办法给弄博客里来。另外昨天和997一起听了好久的歌，这里歪个楼纪念一下。

![image-20220915135057503](C:\Users\CJX\AppData\Roaming\Typora\typora-user-images\image-20220915135057503.png)

ok！今天的分享就到这里了！希望对大家有所帮助，谢谢。